<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="
    As the state file uses the module name in identifiers and so a module rename causes Terraform to think all existing resources need to be destroyed and recreated.
You can avoid such needless destruction by editing the state file manually to correct the identifiers.
It might be possible to use terraform mv although I didn’t use that approach today. ...
">

        <link rel="shortcut icon" href="https://til.codeinthehole.com/favicon.ico">

        
        <link rel="stylesheet" href="https://til.codeinthehole.com/css/main.min.css">

        <title>
    TIL Renaming a Terraform module is dangerous — David Winterbottom
</title>
    </head>

    <body>
        
            <header id="banner">
                <h2><a href="https://til.codeinthehole.com/">Today I Learnt...</a></h2>
            </header>
        

        <main id="content">
            
    <article>
        <header id="post-header">
            <div id="date_sentence">
                On <time>July 23th, 2020</time>, <a href="https://codeinthehole.com">I</a> learnt ...
            </div>
            <h1>Renaming a Terraform module is dangerous</h1>
        </header><p>As the state file uses the module name in identifiers and so a module rename causes
Terraform to think all existing resources need to be destroyed and recreated.</p>
<p>You can avoid such needless destruction by editing the state file manually to
correct the identifiers.</p>
<p>It might be possible to use <code>terraform mv</code> although I didn&rsquo;t use that approach
today.</p>
</article>

        </main>

        
    <footer id="footer">
        
        
            
            
        
    </footer>

    </body>
</html>
